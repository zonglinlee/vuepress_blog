import{_ as e,o as t,c as i,e as c}from"./app-4d1d3ef4.js";const s={},l=c('<h1 id="阿里云-ram-policy-简介" tabindex="-1"><a class="header-anchor" href="#阿里云-ram-policy-简介" aria-hidden="true">#</a> 阿里云 RAM policy 简介</h1><ul><li>登录主账号之后进入OSS管理控制台，创建子账号，即RAM账号(子账号可以单独登录阿里云控制台)</li><li>对子账号进行bucket级别的授权，选中bucket后可以进行授权</li><li>对子账号进行 <code>AliyunSTSAssumeRoleAccess</code>授权，子账号可以通过sdk调用返回一个临时账户STS，此sts账号扮演一个RAM角色(ram角色在后台定义)</li><li>可以建立</li><li>STS临时账号的权限控制</li><li>STS账号继承了RAM角色的所有权限</li><li>STS账号继承了STS server中policy的权限，即此文件夹中txt文件的配置</li><li>STS账号的最终权限是以上两个的交集</li><li>两个权限配置格式都必须正确，如果有误，就会报错。</li></ul><blockquote><p>RAM策略编辑器中，每条规则需要设置其Effect、Actions、Resources和Conditions：</p><p>Effect 指定这条规则是允许访问（Allow）还是禁止访问（Deny）。</p><p>Actions 指定访问资源的动作，可以选择多项。一般来说用户使用提供的通配动作就足够了：</p><p>oss:<em>表示允许所有动作。 oss:Get</em>表示允许所有的读动作。 oss:Put*表示允许所有的写动作。 更多信息请参见RAM Policy Editor README。</p></blockquote><blockquote><p>Resources 指定授权访问的OSS的资源，可以指定多个，每个是以下形式：</p></blockquote><p>表示某个bucket：my-bucket （此时对bucket下的文件没有权限） 表示某个bucket下面所有文件：my-bucket/* （此时对bucket本身没有权限，例如ListObjects） 表示某个bucket下某个目录：my-bucket/dir （此时对dir/下面的文件没有权限） 表示某个bucket下某个目录下面所有文件：my-bucket/dir/* （此时对dir没有权限，例如ListObjects） 填写完整的资源路径：acs:oss:*🔢my-bucket/dir，其中1234为用户的User ID（在控制台查看） EnablePath</p><p>当用户需要对某个目录授权时，往往还需要保证对上一层目录也有List权限，例如用户对my-bucket/users/dir/*赋予读写权限，为了在控制台（或其他工具）能够查看这个目录，用户还需要以下权限： ListObjects my-bucket ListObjects my-bucket/users ListObjects my-bucket/users/dir 勾选EnablePath选项时，上面这些权限会自动添加。</p><p>Conditions</p><blockquote><p>指定授权访问时应该满足的条件，可以指定多个</p></blockquote><h2 id="参考链接" tabindex="-1"><a class="header-anchor" href="#参考链接" aria-hidden="true">#</a> 参考链接</h2><ul><li>(基于RAM Policy配置示例)[https://help.aliyun.com/document_detail/100680.html?spm=a2c4g.11186623.2.22.30393b49HJqw92#section-an0-sb1-5sh]</li><li>(RAM policy 编辑器)[http://gosspublic.alicdn.com/ram-policy-editor/index.html?spm=a2c4g.11186623.2.7.5b613eb10WlQDS]</li><li>(STS临时授权访问OSS)[https://help.aliyun.com/document_detail/100624.html?spm=a2c4g.11186623.6.698.4cb965feK77yvS]</li><li>(RAM策略编辑器)[https://help.aliyun.com/document_detail/32203.html?spm=a2c4g.11186623.4.5.4f0365fesi5QpA]</li></ul>',10),o=[l];function u(a,r){return t(),i("div",null,o)}const n=e(s,[["render",u],["__file","/home/runner/work/vuepress_blog/vuepress_blog/docs/.vuepress/.temp/pages/code/aliyun/oss-playground/policy/index.html.vue"]]);export{n as default};
