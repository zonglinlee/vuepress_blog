import{_ as i,r as o,o as l,c,a as n,b as a,d as t,e}from"./app-4d1d3ef4.js";const r="/vuepress_blog/assets/draggable-balls-6984a91f.png",p={},d=e(`<h2 id="css-transition" tabindex="-1"><a class="header-anchor" href="#css-transition" aria-hidden="true">#</a> css transition</h2><p>Transitions are when the browser animates from one state to another (A to B). They’re usually triggered by an action such <code>hovering over an element</code>, or <code>adding or removing a class using JavaScript</code>.</p><p>Transitions take place in the browser when an element changes from one state to another. The browser draws the frames between each state automatically to create movement.</p><h3 id="transition" tabindex="-1"><a class="header-anchor" href="#transition" aria-hidden="true">#</a> transition</h3><p>Notice the transition property to the first button reference in the CSS state. This tells the browser to apply a transition to any change of state such as on hover as well as when changing back from the hover state.</p><p>If we applied the transition property to the hover state only, it would only transition to the hover state but not back.</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">button</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> background 0.5s linear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">button:hover</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token comment">/*transition: background 0.5s linear;*/</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="css-animations" tabindex="-1"><a class="header-anchor" href="#css-animations" aria-hidden="true">#</a> css Animations</h2><p>Animations are more involved, and let you create sequences of animations with as many keyframes as you need along the way. They trigger automatically, and can loop.</p><h3 id="animation-delay" tabindex="-1"><a class="header-anchor" href="#animation-delay" aria-hidden="true">#</a> animation-delay</h3><ul><li><p>If the animation loops, <strong>the delay does not apply each time it loops.</strong> The delay only applies to when the animation is applied to the element.</p></li><li><p>You can give this property a negative value such as -1s. This would cause the animation to start as if a second has <strong>already elapsed</strong>.</p></li></ul><h3 id="animation-fill-mode" tabindex="-1"><a class="header-anchor" href="#animation-fill-mode" aria-hidden="true">#</a> animation-fill-mode</h3><p>By default, an animation will play and then the element <strong>returns to its normal state</strong>.Using animation-fill-mode we can have the animation “stick” at either the end or beginning state.</p><p>Using the value <code>forwards</code> tells the animation to finish and stay on the last keyframe. The value <code>backwards</code> returns to the first keyframe when the animation finishes.</p><h3 id="animation-play-state" tabindex="-1"><a class="header-anchor" href="#animation-play-state" aria-hidden="true">#</a> animation-play-state</h3><p>If you ever need to pause or resume an animation, this property lets you do so. It takes the values of <code>running</code> or <code>paused</code>, with the default being <code>running</code>. One idea might be to set this value on an animation <strong>using JavaScript</strong>.</p><h3 id="animation-timing-function" tabindex="-1"><a class="header-anchor" href="#animation-timing-function" aria-hidden="true">#</a> animation-timing-function</h3><p>This takes the same values the timing function property in transitions, but behaves a little differently. While a timing function, such as ease-out <strong>applies to the entire transition</strong>, the timing function of an animation a<strong>pplies between each keyframe.</strong></p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token comment">/*animation-timing-function : ease-out;*/</span>
<span class="token atrule"><span class="token rule">@keyframes</span> foo</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Animation starts fast and ease-out makes it slow down before 50% */</span>
  <span class="token punctuation">}</span>
  <span class="token selector">50%</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Again, starts fast and slows toward 100% */</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token comment">/* fin */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*so we usually define animation-timing-function on a per-keyframe basis*/</span>
<span class="token atrule"><span class="token rule">@keyframes</span> my-animation</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token comment">/*...*/</span>
    <span class="token property">animation-timing-function</span><span class="token punctuation">:</span> linear<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">50%</span> <span class="token punctuation">{</span>
    <span class="token comment">/*...*/</span>
    <span class="token property">animation-timing-function</span><span class="token punctuation">:</span> ease-out<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="things-to-look-out-for" tabindex="-1"><a class="header-anchor" href="#things-to-look-out-for" aria-hidden="true">#</a> Things to look out for</h3><ul><li>keywords <code>from</code> and <code>to</code> is simple an alternate way of writing <code>0%</code> and <code>100%</code></li><li>You may have noticed that sometimes more than one percentage value is used on the same line. This is a way to <strong>have the animation pause for a while</strong>, or hold a particular state.</li></ul><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token comment">/*This example will have the element start with an opacity of 0, 
and stay invisible until 20% through the animation*/</span>
<span class="token atrule"><span class="token rule">@keyframes</span> name</span> <span class="token punctuation">{</span>
  <span class="token selector">0%,
  20%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Lastly, you can <strong>omit the 0% keyframe</strong> and the browser will take the element’s style as implied. For example, to have something fade away, we don’t necessarily have to give it a starting opacity of 1 (assuming the element is already visible)</li></ul><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@keyframes</span> name</span> <span class="token punctuation">{</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>If a keyframe rule doesn&#39;t specify the start or end states of the animation (that is, <code>0%/from</code> and <code>100%/to</code>), browsers will use the element&#39;s existing styles for the start/end states. This can be used to animate an element from its initial state and back.</li></ul><h2 id="multiple-animations" tabindex="-1"><a class="header-anchor" href="#multiple-animations" aria-hidden="true">#</a> Multiple animations</h2><h2 id="拖拽过渡动画" tabindex="-1"><a class="header-anchor" href="#拖拽过渡动画" aria-hidden="true">#</a> 拖拽过渡动画</h2>`,27),u={href:"https://chenglou.me/react-motion/demos/demo2-draggable-balls/",target:"_blank",rel:"noopener noreferrer"},m=e('<p><img src="'+r+'" alt="draggable-balls"></p><p>初始状态下维护一个 layout 数组， 用来记录各个 ball 的 <code>translateX</code> 和 <code>translateY</code>, 再维护一个 order 数组，用来记录各个 ball 的顺序，当鼠标拖拽球进行移动时，计算拖拽移动的距离 <code>deltaX, deltaY</code>，并根据整体 width 和 height 对 order 数组进行重排序，对前进行拖拽的 ball 根据鼠标移动的距离进行 translate 变换， 其余的 ball 则变换到重新排序后的 <code>layout[index]</code> 位置上去，layout 数组会保证各个 ball 的位置最终结果</p><p>比如刚开始 <code>order=[0, 1, 2, 3, 9, 4, 5, 6, 7, 8, 10]</code>, 当最后一个球拖拽到第一个球位置上之后,order 进行重排，<code>order=[10, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</code>，所有位置的 DOM 节点都会后移一个位置，translate 参数可以在 layout 中查询出来，剩下的交给浏览器进行位移动画即可</p><h2 id="fq" tabindex="-1"><a class="header-anchor" href="#fq" aria-hidden="true">#</a> FQ</h2>',4),h={href:"https://weekendprojects.dev/posts/css-transition-not-working/",target:"_blank",rel:"noopener noreferrer"},v=n("ul",null,[n("li",null,"The transition can only be applied to animatable properties."),n("li",null,[a("Check that the animating property is not set to auto. Transitions can not animate CSS properties that are "),n("strong",null,"not explicitly set"),a(" and "),n("strong",null,"auto")])],-1),b=n("li",null,[n("p",null,"Why does switching from display: none to display: block not display a transition animation?")],-1),k=e(`<p>The reason switching from display: none to display: block doesn&#39;t display a transition animation is because the display property is not one of the CSS properties that can be smoothly transitioned. Transition animations typically apply to properties that can smoothly transition between different values, such as opacity, width, height, margin, padding, and others.</p><p>When you switch the display property from none directly to block, the browser instantly shows or hides the element with no transition. This is because changes in the display property are instantaneous and have no intermediate states, making it unsuitable for transition effects.</p><p>If you want to achieve a transition effect from invisible to visible, you can use the opacity property or the visibility property instead of the display property. Here&#39;s an example using the opacity property:</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.element</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity 0.5s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.element.visible</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example, we transition the opacity of the element from 0 to 1, creating a transition effect from invisible to visible. You can trigger this transition effect by adding or removing the &quot;visible&quot; class.</p><ul><li>display:none 和 display:block 对元素 animation 的影响</li></ul><blockquote><p>display: none:当一个元素的 display 属性被设置为 none，该元素会从文档流中移除，它在页面上将不可见，也不占用空间。 任何应用在这个元素上的动画、过渡或其他视觉效果都将被取消，因为该元素已经被隐藏，无法显示任何动画效果。</p></blockquote><blockquote><p>display: block:当将一个元素的 display 属性从 none 设置为 block，元素将重新显示在页面上，并按照正常的文档流占用空间。 如果你在元素上应用了动画，这些动画会在元素重新显示时生效。这意味着动画将在元素由不可见变为可见时播放。 总之，display: none 会立即隐藏元素，取消任何与元素相关的动画，而 display: block 会使元素重新显示，同时允许动画在元素显示时生效。如果你希望在显&gt;示和隐藏元素时有过渡效果，通常使用 opacity、visibility 或其他 CSS 属性来实现动画，而不是直接切换 display 属性。</p></blockquote>`,8);function y(g,f){const s=o("ExternalLinkIcon");return l(),c("div",null,[d,n("ul",null,[n("li",null,[n("a",u,[a("draggable-balls"),t(s)])])]),m,n("ul",null,[n("li",null,[n("p",null,[n("a",h,[a("CSS transition not working"),t(s)])]),v]),b]),k])}const _=i(p,[["render",y],["__file","/home/runner/work/vuepress_blog/vuepress_blog/docs/.vuepress/.temp/pages/css/css_transition_animation.html.vue"]]);export{_ as default};
