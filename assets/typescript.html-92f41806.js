import{_ as p,r as o,o as i,c,a as n,b as s,d as e,e as t}from"./app-4d1d3ef4.js";const l={},r=n("h2",{id:"ts须知",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ts须知","aria-hidden":"true"},"#"),s(" Ts须知")],-1),u={href:"https://www.typescriptlang.org/docs/",target:"_blank",rel:"noopener noreferrer"},d={id:"类型关键字",tabindex:"-1"},k=n("a",{class:"header-anchor",href:"#类型关键字","aria-hidden":"true"},"#",-1),m={href:"https://juejin.cn/post/6844904131975446536",target:"_blank",rel:"noopener noreferrer"},v=t("<ul><li><code>extends</code> 用于扩展一个 <code>interface</code> 的类型，从而得到新的类型</li><li><code>keyof</code> 是TS中的索引类型查询操作符。<code>keyof T</code> 会得到由 <code>T</code> 上已知的公共属性名组成的联合类型</li><li>在 TS 中用于类型表达时，<code>typeof</code> 可以用于从一个变量上获取它的类型。</li><li><code>in</code> 操作符用于遍历目标类型的公开属性名。类似 <code>for .. in</code> 的机制。 从其用途看，我们很容易想到 <code>in</code> 可用于联合类型或者枚举类型</li></ul>",1),h={id:"d-ts-vs-declare",tabindex:"-1"},b=n("a",{class:"header-anchor",href:"#d-ts-vs-declare","aria-hidden":"true"},"#",-1),y={href:"https://blog.csdn.net/qq_34551390/article/details/118800743",target:"_blank",rel:"noopener noreferrer"},g=t(`<ul><li><code>.d.ts</code> 文件是ts用来声明<code>变量，模块，type，interface</code>等等的,在 <code>.d.ts</code> 声明变量或者模块等东西之后，在其他地方可以不用 import 导入这些东西就可以直接用, 但是也不是说创建了 <code>.d.ts</code> 文件，里面声明的东西就能生效了，毕竟归根到底也是 .ts 文件，需要预编译，所以需要在tsconfig.json文件里面的include数组里面添加这个文件</li><li><code>.d.ts</code> 文件中的顶级声明必须以 <code>&quot;declare&quot; 或 &quot;export&quot;</code> 修饰符开头。 通过 <code>declare</code> 声明的类型或者变量或者模块，在include包含的文件范围内，都可以直接引用而不用去 import 或者 import type 相应的变量或者类型</li></ul><h2 id="typescript-for-functional-programmers" tabindex="-1"><a class="header-anchor" href="#typescript-for-functional-programmers" aria-hidden="true">#</a> TypeScript for Functional Programmers</h2><h3 id="important-typescript-types" tabindex="-1"><a class="header-anchor" href="#important-typescript-types" aria-hidden="true">#</a> important TypeScript types</h3><table><thead><tr><th><strong>Type</strong></th><th><strong>Explanation</strong></th></tr></thead><tbody><tr><td><code>T[]</code></td><td>mutable arrays, also written <code>Array&lt;T&gt;</code></td></tr><tr><td><code>[T, T]</code></td><td>tuples, which are fixed-length but mutable</td></tr></tbody></table><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// Function syntax</span>
<span class="token keyword">let</span> <span class="token function-variable function">fst1</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">any</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">;</span>
<span class="token comment">// or more precisely:</span>
<span class="token keyword">let</span> fst2<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">T</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">;</span>
<span class="token comment">// Object literal type syntax</span>
<span class="token keyword">let</span> o<span class="token operator">:</span> <span class="token punctuation">{</span> n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> xs<span class="token operator">:</span> object<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>n<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> xs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// [T, T] is a subtype of T[]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="unit-types" tabindex="-1"><a class="header-anchor" href="#unit-types" aria-hidden="true">#</a> Unit types</h3><p>Unit types are <strong>subtypes</strong> of primitive types that contain exactly one primitive value. For example, the string &quot;foo&quot; has the type &quot;foo&quot;. When needed, the compiler widens — converts to a supertype — the unit type to the primitive type, such as &quot;foo&quot; to string</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">pad</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> direction<span class="token operator">:</span> <span class="token string">&quot;left&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token function">pad</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;left&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token comment">// 但是下面的写法有问题,这里ts编译器将 s 变量扩展到了 string type, string type  不能赋值给 联合类型 &quot;left&quot; | &quot;right&quot;</span>
<span class="token comment">// &quot;right&quot;: &quot;right&quot;</span>
<span class="token comment">// s: string because &quot;right&quot; widens to string on assignment to a mutable variable.</span>
<span class="token comment">// string is not assignable to &quot;left&quot; | &quot;right&quot;</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">;</span>
<span class="token function">pad</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// error: &#39;string&#39; is not assignable to &#39;&quot;left&quot; | &quot;right&quot;&#39;</span>
<span class="token comment">// 可以这么改写</span>
<span class="token keyword">let</span> s1<span class="token operator">:</span> <span class="token string">&quot;left&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;right&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">;</span>
<span class="token function">pad</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="type-parameters" tabindex="-1"><a class="header-anchor" href="#type-parameters" aria-hidden="true">#</a> Type Parameters</h3><p>Like most C-descended languages, TypeScript <strong>requires declaration of type parameters</strong>.There is no case requirement, but type parameters are conventionally single uppercase letters. Type parameters can also be constrained to a type, which behaves a bit like type class constraints</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">liftArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>t<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="readonly-and-const" tabindex="-1"><a class="header-anchor" href="#readonly-and-const" aria-hidden="true">#</a> readonly and const</h3><p>In JavaScript, mutability is the default, although it allows variable declarations with <code>const</code> to declare that the reference is immutable. TypeScript additionally has a <code>readonly</code> modifier for properties. It also ships with a mapped type <code>Readonly&lt;T&gt;</code> that makes all properties readonly. And it has a specific <code>ReadonlyArray&lt;T&gt;</code> type.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">X</span></span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rx<span class="token operator">:</span> Readonly<span class="token operator">&lt;</span><span class="token constant">X</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
rx<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14),f={id:"const-assertions",tabindex:"-1"},w=n("a",{class:"header-anchor",href:"#const-assertions","aria-hidden":"true"},"#",-1),x={href:"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions",target:"_blank",rel:"noopener noreferrer"},T=t(`<ul><li>no literal types in that expression should be <strong>widened</strong> (e.g. no going from &quot;hello&quot; to string)</li><li>object literals get <code>readonly</code> properties</li><li>array literals become <code>readonly tuples</code></li><li>One thing to note is that const assertions can only be applied immediately on simple literal expressions.</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// Type &#39;&quot;hello&quot;&#39;</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token comment">// Type &#39;readonly [10, 20]&#39;</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token comment">// Type &#39;{ readonly text: &quot;hello&quot; }&#39;</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token punctuation">{</span>text<span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token comment">// 错误写法</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="everyday-types" tabindex="-1"><a class="header-anchor" href="#everyday-types" aria-hidden="true">#</a> everyDay types</h2><h3 id="type-annotations-on-variables" tabindex="-1"><a class="header-anchor" href="#type-annotations-on-variables" aria-hidden="true">#</a> Type Annotations on Variables</h3><p>When you declare a variable using const, var, or let, you can <strong>optionally</strong> add a type annotation to explicitly specify the type of the variable. In most cases, though, <strong>this isn’t needed</strong>. Wherever possible, TypeScript tries to automatically infer the types in your code.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> myName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// No type annotation needed -- &#39;myName&#39; inferred as type &#39;string&#39;</span>
<span class="token keyword">let</span> yourName <span class="token operator">=</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="parameter-type-annotations-return-type-annotations" tabindex="-1"><a class="header-anchor" href="#parameter-type-annotations-return-type-annotations" aria-hidden="true">#</a> Parameter type annotations &amp;&amp; Return Type Annotations</h3><p>Parameter type annotations go after the parameter name. Return type annotations appear after the parameter list. Much like variable type annotations, you <strong>usually don’t need</strong> a return type annotation because TypeScript will infer the function’s return type based on its return statements.</p><h3 id="object-types" tabindex="-1"><a class="header-anchor" href="#object-types" aria-hidden="true">#</a> Object Types</h3><p>You can use <code>, </code>or <code>;</code> to separate the object properties,The type part of each property is also optional. If you don’t specify a type, it will be assumed to be <code>any</code>. In JavaScript, if you access a property that doesn’t exist, you’ll get the value <code>undefined</code> rather than a runtime error. Because of this, when you read from an optional property, you’ll have to check for undefined before using it.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">printName</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token punctuation">{</span> first<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> last<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>last <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>last<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// A safe alternative using modern JavaScript syntax:</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>last<span class="token operator">?.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="type-aliases" tabindex="-1"><a class="header-anchor" href="#type-aliases" aria-hidden="true">#</a> Type Aliases</h3><p>it’s common to want to use the same type more than once and refer to it by a single name. A type alias is exactly that - a name for any type,The syntax for a type alias is:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Point</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// You can actually use a type alias to give a name to any type at all, not just an object type. For example, a type alias can name a union type</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">ID</span></span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="interfaces" tabindex="-1"><a class="header-anchor" href="#interfaces" aria-hidden="true">#</a> Interfaces</h3><p>An interface declaration is another way to name an object type. Type aliases and interfaces are very similar, and in many cases you can choose between them freely. Almost all features of an interface are available in type, the key distinction is that a type cannot be re-opened to add new properties vs an interface which is always extendable</p><h3 id="type-assertions" tabindex="-1"><a class="header-anchor" href="#type-assertions" aria-hidden="true">#</a> Type Assertions</h3><p>Sometimes you will have information about the type of a value that TypeScript can’t know about.TypeScript only allows type assertions which convert to a more specific or less specific version of a type. Sometimes this rule can be too conservative and will disallow more complex coercions that might be valid. If this happens, you can use two assertions, first to <code>any</code> (or <code>unknown</code>, which we’ll introduce later), then to the desired type.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">(</span>expr <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token constant">T</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="literal-inference" tabindex="-1"><a class="header-anchor" href="#literal-inference" aria-hidden="true">#</a> Literal Inference</h3><p>In addition to the general types string and number, we can refer to specific strings and numbers in type positions Both <code>var</code> and <code>let</code> allow for changing what is held inside the variable, and <code>const</code> does not, it can only represent 1 possible string, it has a literal type representation</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You can use as const to convert the entire object to be type literals. The as const suffix acts like <code>const</code> but for the type system, ensuring that all properties are assigned the literal type instead of a more general version like string or number</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token punctuation">{</span>url<span class="token operator">:</span> <span class="token string">&quot;https://example.com&quot;</span><span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment">// function body</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">handleRequest</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span> req<span class="token punctuation">.</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="non-null-assertion-operator-postfix" tabindex="-1"><a class="header-anchor" href="#non-null-assertion-operator-postfix" aria-hidden="true">#</a> Non-null Assertion Operator (Postfix!)</h3><p>TypeScript also has a special syntax for removing null and undefined from a type without doing any explicit checking. Writing ! after any expression is effectively a type assertion that the value isn’t null or undefined</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">liveDangerously</span><span class="token punctuation">(</span>x<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// No error</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="enums" tabindex="-1"><a class="header-anchor" href="#enums" aria-hidden="true">#</a> Enums</h3><p>An enum can be defined using the <code>enum</code> keyword</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// Numeric enums</span>
<span class="token keyword">enum</span> Direction <span class="token punctuation">{</span>
    Up <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    Down<span class="token punctuation">,</span>
    Left<span class="token punctuation">,</span>
    Right<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Above, we have a <code>numeric enum</code> where Up is initialized with 1. All of the following members are auto-incremented from that point on. In other words, Direction.Up has the value 1, Down has 2, Left has 3, and Right has 4.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">enum</span> Direction <span class="token punctuation">{</span>
    Up <span class="token operator">=</span> <span class="token string">&quot;UP&quot;</span><span class="token punctuation">,</span>
    Down <span class="token operator">=</span> <span class="token string">&quot;DOWN&quot;</span><span class="token punctuation">,</span>
    Left <span class="token operator">=</span> <span class="token string">&quot;LEFT&quot;</span><span class="token punctuation">,</span>
    Right <span class="token operator">=</span> <span class="token string">&quot;RIGHT&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In a string enum, each member has to be <strong>constant-initialized with a string literal</strong>, or with another string enum member</p><h2 id="functions" tabindex="-1"><a class="header-anchor" href="#functions" aria-hidden="true">#</a> Functions</h2><h3 id="function-type-expressions" tabindex="-1"><a class="header-anchor" href="#function-type-expressions" aria-hidden="true">#</a> Function Type Expressions</h3><p>The simplest way to describe a function is with a <code>function type expression</code>. These types are syntactically similar to <strong>arrow functions</strong>.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// The syntax (a: string) =&gt; void means “a function with one parameter, named a, of type string, that doesn’t have a return value”.</span>
<span class="token comment">// Note that the parameter name is required.</span>
<span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span><span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Of course, we can use a type alias to name a function type</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">GreetFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span>fn<span class="token operator">:</span> GreetFunction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="call-signatures" tabindex="-1"><a class="header-anchor" href="#call-signatures" aria-hidden="true">#</a> Call Signatures</h3><p>In JavaScript, functions can have properties in addition to being callable. However, the function type expression syntax <strong>doesn’t allow for declaring properties</strong>. If we want to describe something callable with properties, we can write a call signature in an object type</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">DescribableFunction</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span>someArg<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>fn<span class="token operator">:</span> DescribableFunction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>description <span class="token operator">+</span> <span class="token string">&quot; returned &quot;</span> <span class="token operator">+</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that the syntax is slightly different compared to a function type expression - use <code>:</code> between the parameter list and the return type rather than <code>=&gt;</code>.</p><h3 id="construct-signatures" tabindex="-1"><a class="header-anchor" href="#construct-signatures" aria-hidden="true">#</a> Construct Signatures</h3><p>avaScript functions can also be invoked with the new operator. TypeScript refers to these as constructors because they usually create a new object. You can write a construct signature by adding the new keyword in front of a call signature</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">SomeConstructor</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> SomeObject<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span>ctor<span class="token operator">:</span> SomeConstructor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ctor</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="generic-functions" tabindex="-1"><a class="header-anchor" href="#generic-functions" aria-hidden="true">#</a> Generic Functions</h3><p>In TypeScript, generics are used when we want to describe a correspondence between two values. We do this by declaring a type parameter in the function signature</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">firstElement</span><span class="token generic class-name"><span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arr<span class="token operator">:</span> Type<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> Type <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="function-overloads" tabindex="-1"><a class="header-anchor" href="#function-overloads" aria-hidden="true">#</a> Function Overloads</h3><p>In TypeScript, we can specify a function that can be called in different ways by writing overload signatures. To do this, write some number of function signatures (usually two or more), followed by the body of the function</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 这个函数只可以接收一个参数或者两个参数，第三个函数签名是用来实现前两个函数签名的</span>
<span class="token comment">// 前两个函数叫做 Overload Signatures ，第三个叫做 Implementation Signature</span>
<span class="token keyword">function</span> <span class="token function">makeDate</span><span class="token punctuation">(</span>timestamp<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> Date<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">makeDate</span><span class="token punctuation">(</span>m<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> Date<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">makeDate</span><span class="token punctuation">(</span>mOrTimestamp<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> d<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> Date <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> mOrTimestamp<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>mOrTimestamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example, we wrote two overloads: one accepting one argument, and another accepting three arguments. <strong>These first two signatures are called the overload signatures.</strong></p><p>Then, <strong>we wrote a function implementation with a compatible signature.</strong> Functions have an implementation signature, ** but this signature can’t be called directly. Even though we wrote a function with two optional parameters after the required one, it can’t be called with two parameters!**</p><h3 id="unknown-type-never-type" tabindex="-1"><a class="header-anchor" href="#unknown-type-never-type" aria-hidden="true">#</a> <code>unknown</code> type &amp;&amp; <code>never</code> type</h3><p>The<code> unknown type</code> represents any value. This is similar to the any type, but is safer because it’s not legal to do anything with an unknown value. This is useful when describing function types because you can describe functions that accept any value without having any values in your function body.</p><p>The never type represents values which are never observed. In a return type, <strong>this means that the function throws an exception or terminates execution of the program</strong></p><h3 id="function-type" tabindex="-1"><a class="header-anchor" href="#function-type" aria-hidden="true">#</a> <code>Function</code> type</h3><p>The global type Function describes properties like <code>bind, call, apply</code>, and others present on all function values in JavaScript. It also has the special property that values of type Function can always be called; these calls return any</p><h3 id="parameter-destructuring" tabindex="-1"><a class="header-anchor" href="#parameter-destructuring" aria-hidden="true">#</a> Parameter Destructuring</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> c<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 或者定义一个type</span>
<span class="token class-name"><span class="token keyword">type</span></span> <span class="token constant">ABC</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> c<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="return-type-void" tabindex="-1"><a class="header-anchor" href="#return-type-void" aria-hidden="true">#</a> Return type void</h3><ul><li>Contextual typing with a return type of void does not force functions to not return something.when implemented, can return any other value, but it will be ignored.</li><li>when a literal function definition has a void return type, that function must not return anything</li></ul>`,63),q={id:"utility-types",tabindex:"-1"},_=n("a",{class:"header-anchor",href:"#utility-types","aria-hidden":"true"},"#",-1),S={href:"https://www.typescriptlang.org/docs/handbook/utility-types.htm",target:"_blank",rel:"noopener noreferrer"},C=t(`<p>TypeScript provides several utility types to facilitate common type transformations. These utilities are available globally.</p><h3 id="returntype-type" tabindex="-1"><a class="header-anchor" href="#returntype-type" aria-hidden="true">#</a> <code>ReturnType&lt;Type&gt;</code></h3><p>Constructs a type consisting of the return type of <code>function Type</code>.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 注意必须传入一个 function type 才可以</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T4</span></span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> f1<span class="token operator">&gt;</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="parameters-type" tabindex="-1"><a class="header-anchor" href="#parameters-type" aria-hidden="true">#</a> <code>Parameters&lt;Type&gt;</code></h3><p>Constructs<code> a tuple type</code> from the types <code>used in the parameters of a function type Type</code>.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>
<span class="token comment">// 传入的是一个 function type ,得到一个元组类型的 type </span>
<span class="token class-name"><span class="token keyword">type</span></span> <span class="token constant">T1</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> <span class="token punctuation">[</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="record-keys-type" tabindex="-1"><a class="header-anchor" href="#record-keys-type" aria-hidden="true">#</a> <code>Record&lt;Keys, Type&gt;</code></h3><p>Constructs an<code> object type</code> whose property keys are Keys and whose property values are Type. This utility can be used to map the properties of a type to another type.</p><h2 id="object-types-1" tabindex="-1"><a class="header-anchor" href="#object-types-1" aria-hidden="true">#</a> Object Types</h2>`,10),j={id:"index-signatures",tabindex:"-1"},I=n("a",{class:"header-anchor",href:"#index-signatures","aria-hidden":"true"},"#",-1),A={href:"https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures",target:"_blank",rel:"noopener noreferrer"},P=t(`<p>Sometimes you don’t know all the names of a type’s properties ahead of time, but you do know the shape of the values.In those cases you can use an index signature to describe the types of possible values, for example:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// This index signature states that when a StringArray is indexed with a number, it will return a string</span>
<span class="token comment">// An index signature property type must be either ‘string’ or ‘number’.</span>
<span class="token keyword">interface</span> <span class="token class-name">StringByString</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">StringArray</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> myArray<span class="token operator">:</span> StringArray <span class="token operator">=</span> <span class="token function">getStringArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> secondItem <span class="token operator">=</span> myArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment">// name 属性不能返回 string type 的值，因为index signature 规定了必须返回number，你可以在 index signature 中返回联合类型来解决这个问题</span>
<span class="token keyword">interface</span> <span class="token class-name">NumberDictionary</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

    length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// not ok : Property &#39;name&#39; of type &#39;string&#39; is not assignable to &#39;string&#39; index type &#39;number&#39;.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="intersection-types" tabindex="-1"><a class="header-anchor" href="#intersection-types" aria-hidden="true">#</a> Intersection Types</h3><p>An intersection type is defined using the &amp; operator.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 不冲突 Combined has two properties, a and b, just as if they had been written as one object literal type.</span>
<span class="token keyword">type</span> <span class="token class-name">Combined</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 冲突  </span>
<span class="token comment">// Intersection and union are recursive in case of conflicts, so Conflicting.a: number &amp; string.</span>
<span class="token keyword">type</span> <span class="token class-name">Conflicting</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// test变量只能赋值为字符串 &#39;hello&#39;， string 和 &#39;hello&#39; 的交叉类型为 &#39;hello&#39;</span>
<span class="token keyword">type</span> <span class="token class-name">Test</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">&amp;</span> <span class="token string">&#39;hello&#39;</span>
<span class="token keyword">let</span> test<span class="token operator">:</span> Test <span class="token operator">=</span> <span class="token string">&#39;hey&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 报错，只能为 hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="type-manipulation" tabindex="-1"><a class="header-anchor" href="#type-manipulation" aria-hidden="true">#</a> Type Manipulation</h2><h3 id="generics" tabindex="-1"><a class="header-anchor" href="#generics" aria-hidden="true">#</a> Generics</h3><h3 id="type-operator" tabindex="-1"><a class="header-anchor" href="#type-operator" aria-hidden="true">#</a> Type Operator</h3><ul><li><p>the <code>keyof operator</code> takes an <code>object type</code> and produces <code>a string or numeric literal union of its keys</code></p></li><li><p><code>typeof operator</code> you can use in a type context to refer to the type of a variable or property</p></li><li><p>Indexed Access Types: We can use an indexed access type to look up a specific property on another type.特例： using <code>number</code> type to get the type of an array’s elements. We can combine this with typeof to conveniently capture the element type of an array literal</p></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 这是一种类似数组下标访问的方式，index 本身也是一种 type ,所以也可以使用联合类型</span>
<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> alive<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">I1</span></span> <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">I2</span></span> <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token keyword">keyof</span> Person<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">AliveOrName</span> <span class="token operator">=</span> <span class="token string">&quot;alive&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">I3</span></span> <span class="token operator">=</span> Person<span class="token punctuation">[</span>AliveOrName<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 特例 : 通过 number type 获取数组元素的type  </span>
<span class="token keyword">const</span> MyArray <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;Eve&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">38</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> MyArray<span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Conditional types take a form like <code>(SomeType extends OtherType ? TrueType : FalseType)</code></li><li>Mapped Types :</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">OptionsFlags<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Property <span class="token keyword">in</span> <span class="token keyword">keyof</span> Type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// JavaScript中的 in 操作符</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">FeatureFlags</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">darkMode</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function-variable function">newUserProfile</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">FeatureOptions</span> <span class="token operator">=</span> OptionsFlags<span class="token operator">&lt;</span>FeatureFlags<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mapping Modifiers</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// Removes &#39;readonly&#39; attributes from a type&#39;s properties</span>
<span class="token keyword">type</span> <span class="token class-name">CreateMutable<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span>Property <span class="token keyword">in</span> <span class="token keyword">keyof</span> Type<span class="token punctuation">]</span><span class="token operator">:</span> Type<span class="token punctuation">[</span>Property<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Removes &#39;optional&#39; attributes from a type&#39;s properties</span>
<span class="token keyword">type</span> <span class="token class-name">Concrete<span class="token operator">&lt;</span>Type<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Property <span class="token keyword">in</span> <span class="token keyword">keyof</span> Type<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> Type<span class="token punctuation">[</span>Property<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Template Literal Types Template literal types build on <code>string literal types</code>, and have the ability to expand into many strings via unions.</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">World</span> <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Greeting</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>World<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Greeting</span> <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Intrinsic String Manipulation Types To help with string manipulation, TypeScript includes a set of types which can be used in string manipulation. These types come built-in to the compiler for performance and can’t be found in the .d.ts files included with TypeScript。 <code>Uppercase&lt;StringType&gt;</code> <code>Lowercase&lt;StringType&gt;</code> <code>Capitalize&lt;StringType&gt;</code></li></ul>`,17),D={id:"modules",tabindex:"-1"},F=n("a",{class:"header-anchor",href:"#modules","aria-hidden":"true"},"#",-1),O={href:"https://www.typescriptlang.org/docs/handbook/2/modules.html",target:"_blank",rel:"noopener noreferrer"},N=t(`<p>In TypeScript, just as in ECMAScript 2015, <strong>any file containing a top-level import or export is considered a module.</strong> Conversely, <strong>a file without any top-level import or export declarations is treated as a script</strong> whose contents are available in the global scope (and therefore to modules as well).</p><p>If you have a file that doesn’t currently have any imports or exports, but you want to be treated as a module, add the line:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You can import a file and not include any variables into your current module via import &quot;./file&quot;.In this case, the import does nothing. However, all of the code in maths.ts was evaluated, which could trigger side-effects which affect other objects</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token string">&quot;./maths.js&quot;</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3.14&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Types</code> can be exported and imported using the same syntax as JavaScript values TypeScript has extended the import syntax with two concepts for declaring an import of a type: <code>import type</code>. TypeScript 4.5 also allows for individual imports to be prefixed with type to indicate that the imported reference is a type.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// Inline type imports</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createCatName<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">Cat</span><span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token class-name">Dog</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./animal.js&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// can only import types</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span>Cat<span class="token punctuation">,</span> Dog<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./animal.js&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// @filename: animal.ts</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Cat</span> <span class="token operator">=</span> <span class="token punctuation">{</span> breed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> yearOfBirth<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    breeds<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    yearOfBirth<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// @filename: app.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Cat<span class="token punctuation">,</span> Dog<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./animal.js&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Animals</span> <span class="token operator">=</span> Cat <span class="token operator">|</span> Dog<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),M={id:"classes",tabindex:"-1"},R=n("a",{class:"header-anchor",href:"#classes","aria-hidden":"true"},"#",-1),U={href:"https://www.typescriptlang.org/docs/handbook/2/classes.html",target:"_blank",rel:"noopener noreferrer"},B=t(`<h3 id="constructors" tabindex="-1"><a class="header-anchor" href="#constructors" aria-hidden="true">#</a> Constructors</h3><ul><li>Constructors can’t have type parameters - these belong on the outer class declaration</li><li>Constructors can’t have return type annotations - the class instance type is always what’s returned</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token comment">// Overloads</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>xs<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> y<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="super-calls" tabindex="-1"><a class="header-anchor" href="#super-calls" aria-hidden="true">#</a> Super Calls</h4><p>Just as in JavaScript, if you have a <code>base class</code>, you’ll need to call <code>super()</code>; in your constructor body before using any <code>this.</code> members</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
    k <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Derived</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;super&#39; must be called before accessing &#39;this&#39; in the constructor of a derived class.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="getters-setters" tabindex="-1"><a class="header-anchor" href="#getters-setters" aria-hidden="true">#</a> Getters / Setters</h3><ul><li>If get exists but no set, the property is automatically readonly</li><li>If the type of the setter parameter is not specified, it is inferred from the return type of the getter</li><li>Getters and setters must have the same Member Visibility</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token punctuation">{</span>
    _length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">get</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">set</span> <span class="token function">length</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_length <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="member-visibility" tabindex="-1"><a class="header-anchor" href="#member-visibility" aria-hidden="true">#</a> Member Visibility</h3><ul><li><code>public</code> : public is already the default visibility modifier, you don’t ever need to write it on a class member</li><li><code>protected</code> : protected members are only visible to subclasses of the class they’re declared in or the current class</li><li><code>private</code> is like <code>protected</code>, but doesn’t allow access to the member even from subclasses</li><li>Classes may have <code>static</code> members. These members aren’t associated with a particular instance of the class.</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">MySafe</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> secretKey <span class="token operator">=</span> <span class="token number">12345</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MySafe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>secretKey<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Not allowed during type checking</span>
<span class="token comment">// OK : 这种写法是可以访问的 these private fields are soft private and don’t strictly enforce privacy</span>
<span class="token comment">// Unlike TypeScripts’s private, JavaScript’s private fields (#) remain private after compilation </span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token string">&quot;secretKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="js-private-class" tabindex="-1"><a class="header-anchor" href="#js-private-class" aria-hidden="true">#</a> [**js Private class</h3><p>features**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields)</p><p>Class fields are public by default, but private class members can be created by using a hash # prefix. The privacy encapsulation of these class features is enforced by JavaScript itself.</p><h3 id="static-blocks-in-classes" tabindex="-1"><a class="header-anchor" href="#static-blocks-in-classes" aria-hidden="true">#</a> static Blocks in Classes</h3><p><code>Static blocks</code> allow you to write a sequence of statements with their own scope that <strong>can access private fields</strong> within the containing class. This means that we can write <code>initialization code</code> with all the capabilities of writing statements, no leakage of variables, and full access to our class’s internals.</p><h3 id="js-arrow-function" tabindex="-1"><a class="header-anchor" href="#js-arrow-function" aria-hidden="true">#</a> js arrow function</h3><ul><li>箭头函数没有 this。如果访问 this，则会从外部获取</li><li>不能对箭头函数进行 <code>new</code> 操作,不具有 this 自然也就意味着另一个限制：箭头函数不能用作构造器（constructor）。不能用 new 调用它们。</li><li>箭头函数也没有 arguments 变量。</li></ul><p>箭头函数 =&gt; 和使用 .bind(this) 调用的常规函数之间有细微的差别：</p><h4 id="箭头函数-vs-bind" tabindex="-1"><a class="header-anchor" href="#箭头函数-vs-bind" aria-hidden="true">#</a> 箭头函数 VS bind</h4><ul><li><code>.bind(this)</code> 创建了一个该函数的“绑定版本”。</li><li>箭头函数 =&gt; 没有创建任何绑定。箭头函数只是没有 this。this 的查找与常规变量的搜索方式完全相同：在外部词法环境中查找。</li></ul><h3 id="this-parameters" tabindex="-1"><a class="header-anchor" href="#this-parameters" aria-hidden="true">#</a> <code>this</code> parameters</h3><p>In a method or function definition, an initial parameter named <code>this</code> has special meaning <strong>in TypeScript</strong>. These parameters are <strong>erased</strong> during compilation。</p><p>箭头函数的缺点：will use more memory, because each class instance will have its own copy of each function defined this way。 Instead of using an arrow function, so we can add a <code>this</code> parameter to method definitions to statically enforce that the method is called correctly</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// TypeScript input with &#39;this&#39; parameter</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> SomeType<span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span>

<span class="token comment">// After compilation : JavaScript output 编译后第一个参数就去掉了</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>传入this指向</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> <span class="token string">&quot;MyClass&quot;</span><span class="token punctuation">;</span>

    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> MyClass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// OK : this 指向正确</span>

<span class="token comment">// Error, would crash</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> c<span class="token punctuation">.</span>getName<span class="token punctuation">;</span>
<span class="token comment">// The &#39;this&#39; context of type &#39;void&#39; is not assignable to method&#39;s &#39;this&#39; of type &#39;MyClass&#39;.</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,28),E={id:"this-types",tabindex:"-1"},J=n("a",{class:"header-anchor",href:"#this-types","aria-hidden":"true"},"#",-1),W={href:"https://www.typescriptlang.org/docs/handbook/2/classes.html#this-types",target:"_blank",rel:"noopener noreferrer"},G=t(`<p>In classes, <code>a special type</code> called <code>this</code> refers dynamically to <strong>the type of the current class</strong>.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// sameAs 方法的 other 参数 type 为 this，它代表的是当前实例对象</span>
<span class="token keyword">class</span> <span class="token class-name">Box</span> <span class="token punctuation">{</span>
    content<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token function">sameAs</span><span class="token punctuation">(</span>other<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> other<span class="token punctuation">.</span>content <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),L={id:"this-based-type-guards",tabindex:"-1"},V=n("a",{class:"header-anchor",href:"#this-based-type-guards","aria-hidden":"true"},"#",-1),z={href:"https://www.typescriptlang.org/docs/handbook/2/classes.html#this-based-type-guards",target:"_blank",rel:"noopener noreferrer"},K=t(`<p>You can use <code>this is Type</code> <strong>in the return position for methods in classes and interfaces</strong>. When mixed with a type narrowing (e.g. if statements) the type of the target object would be narrowed to the specified Type.</p><h3 id="parameter-properties" tabindex="-1"><a class="header-anchor" href="#parameter-properties" aria-hidden="true">#</a> Parameter Properties</h3><p>typeScript offers <strong>special syntax</strong> for <strong>turning a constructor parameter into a class property</strong> with the same name and value. These are called <code>parameter properties</code> and are created by prefixing a constructor argument with one of the visibility modifiers <code>public, private, protected, or readonly</code>. The resulting field gets those modifier(s):</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Params</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token keyword">public</span> <span class="token keyword">readonly</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        <span class="token keyword">protected</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        <span class="token keyword">private</span> z<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// No body necessary</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Params</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function Y(H,X){const a=o("ExternalLinkIcon");return i(),c("div",null,[r,n("p",null,[n("a",u,[s("typescript doc"),e(a)])]),n("h3",d,[k,s(),n("a",m,[s("类型关键字"),e(a)])]),v,n("h3",h,[b,s(),n("a",y,[s(".d.ts VS declare"),e(a)])]),g,n("h3",f,[w,s(),n("a",x,[s("const assertions"),e(a)])]),T,n("h2",q,[_,s(),n("a",S,[s("Utility Types"),e(a)])]),C,n("h3",j,[I,s(),n("a",A,[s("Index Signatures"),e(a)])]),P,n("h2",D,[F,s(),n("a",O,[s("Modules"),e(a)])]),N,n("h2",M,[R,s(),n("a",U,[s("Classes"),e(a)])]),B,n("h3",E,[J,s(),n("a",W,[s("this Types"),e(a)])]),G,n("h4",L,[V,s(),n("a",z,[s("this based type guards"),e(a)])]),K])}const Q=p(l,[["render",Y],["__file","/home/runner/work/vuepress_blog/vuepress_blog/docs/.vuepress/.temp/pages/typescript/typescript.html.vue"]]);export{Q as default};
