import{_ as a,r as t,o as e,c as p,a as n,b as o,d as c,e as l}from"./app-4d1d3ef4.js";const i={},u=l(`<p>ä»€ä¹ˆæ˜¯æ¨¡å— :ä¸€ä¸ªæ¨¡å—ï¼ˆ<code>module</code>ï¼‰å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚ä¸€ä¸ªè„šæœ¬å°±æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—å¯ä»¥ç›¸äº’åŠ è½½ï¼Œå¹¶å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„æŒ‡ä»¤ <code>export</code> å’Œ <code>import</code> æ¥äº¤æ¢åŠŸèƒ½ï¼Œä»å¦ä¸€ä¸ªæ¨¡å—è°ƒç”¨ä¸€ä¸ªæ¨¡å—çš„å‡½æ•°</p><h2 id="å¸¸è§æ¨¡å—å®ç°æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#å¸¸è§æ¨¡å—å®ç°æ–¹æ¡ˆ" aria-hidden="true">#</a> å¸¸è§æ¨¡å—å®ç°æ–¹æ¡ˆ</h2><ul><li><code>AMD(Asynchronous module definition)</code> â€”â€” æœ€å¤è€çš„æ¨¡å—ç³»ç»Ÿä¹‹ä¸€ï¼Œæœ€åˆç”± <code>require.js</code> åº“å®ç°ã€‚</li><li><code>CommonJS</code> â€”â€” ä¸º <code>Node.js</code> æœåŠ¡å™¨åˆ›å»ºçš„æ¨¡å—ç³»ç»Ÿã€‚</li><li><code>UMD(Universal Module Definition)</code> â€”â€” å¦å¤–ä¸€ä¸ªæ¨¡å—ç³»ç»Ÿï¼Œå»ºè®®ä½œä¸ºé€šç”¨çš„æ¨¡å—ç³»ç»Ÿï¼Œå®ƒä¸ <code>AMD</code> å’Œ <code>CommonJS</code> éƒ½å…¼å®¹ã€‚</li></ul><h2 id="æµè§ˆå™¨ä¸­æ¨¡å—çš„ä¹¦å†™" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨ä¸­æ¨¡å—çš„ä¹¦å†™" aria-hidden="true">#</a> æµè§ˆå™¨ä¸­æ¨¡å—çš„ä¹¦å†™</h2><p>ç”±äºæ¨¡å—æ”¯æŒç‰¹æ®Šçš„å…³é”®å­—å’ŒåŠŸèƒ½ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»é€šè¿‡ä½¿ç”¨ <code>&lt;script type=&quot;module&quot;&gt;</code> ç‰¹æ€§ï¼ˆ<code>attribute</code>ï¼‰æ¥å‘Šè¯‰æµè§ˆå™¨ï¼Œæ­¤è„šæœ¬åº”è¯¥è¢«å½“ä½œæ¨¡å—ï¼ˆ<code>module</code>ï¼‰æ¥å¯¹å¾…ã€‚ æµè§ˆå™¨ä¼šè‡ªåŠ¨è·å–å¹¶è§£æï¼ˆ<code>evaluate</code>ï¼‰å¯¼å…¥çš„æ¨¡å—ï¼ˆå¦‚æœéœ€è¦ï¼Œè¿˜å¯ä»¥åˆ†æè¯¥æ¨¡å—çš„å¯¼å…¥ï¼‰ï¼Œç„¶åè¿è¡Œè¯¥è„šæœ¬ã€‚æ¨¡å—åªé€šè¿‡ <code>http/https</code> å·¥ä½œï¼Œè€Œéæœ¬åœ° å¦‚æœä½ å°è¯•é€šè¿‡ <code>file://</code> åè®®åœ¨æœ¬åœ°æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œä½ ä¼šå‘ç° <code>import/export</code> æŒ‡ä»¤ä¸èµ·ä½œç”¨</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span>sayHi<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./say.js&#39;</span><span class="token punctuation">;</span>

    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&#39;John&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸â€œå¸¸è§„â€è„šæœ¬ç›¸æ¯”ï¼Œæ¨¡å—æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p><ul><li>æ¨¡å—<strong>å§‹ç»ˆ</strong>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œ</li><li>æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„é¡¶çº§ä½œç”¨åŸŸï¼ˆ<code>top-level scope</code>ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªæ¨¡å—ä¸­çš„é¡¶çº§ä½œç”¨åŸŸå˜é‡å’Œå‡½æ•°åœ¨å…¶ä»–è„šæœ¬ä¸­æ˜¯ä¸å¯è§çš„ã€‚</li><li>æ¨¡å—ä»£ç ä»…åœ¨ç¬¬ä¸€æ¬¡å¯¼å…¥æ—¶è¢«è§£æ</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å¦‚æœè¿™ä¸ªæ¨¡å—è¢«å¯¼å…¥åˆ°å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œæ¨¡å—ä»…åœ¨ç¬¬ä¸€æ¬¡è¢«å¯¼å…¥æ—¶è¢«è§£æï¼Œå¹¶åˆ›å»º admin å¯¹è±¡ï¼Œç„¶åå°†å…¶ä¼ å…¥åˆ°æ‰€æœ‰çš„å¯¼å…¥ã€‚</span>
<span class="token comment">// ğŸ“ 1.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>admin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./admin.js&#39;</span><span class="token punctuation">;</span>

admin<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Pete&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// ğŸ“ 2.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>admin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./admin.js&#39;</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Pete</span>

<span class="token comment">// 1.js å’Œ 2.js å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ª admin å¯¹è±¡</span>
<span class="token comment">// åœ¨ 1.js ä¸­å¯¹å¯¹è±¡åšçš„æ›´æ”¹ï¼Œåœ¨ 2.js ä¸­ä¹Ÿæ˜¯å¯è§çš„</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œé¡¶çº§ <code>this</code> æ˜¯ <code>undefined</code>ã€‚å°†å…¶ä¸éæ¨¡å—è„šæœ¬è¿›è¡Œæ¯”è¾ƒä¼šå‘ç°ï¼Œéæ¨¡å—è„šæœ¬çš„é¡¶çº§ <code>this</code> æ˜¯<strong>å…¨å±€å¯¹è±¡</strong></li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¨¡å—è„šæœ¬ <strong>æ€»æ˜¯</strong> è¢«å»¶è¿Ÿçš„ï¼Œä¸ <code>defer</code> ç‰¹æ€§ å¯¹å¤–éƒ¨è„šæœ¬å’Œå†…è”è„šæœ¬ï¼ˆ<code>inline script</code>ï¼‰çš„å½±å“ç›¸åŒã€‚ä¸‹è½½å¤–éƒ¨æ¨¡å—è„šæœ¬ <code>&lt;script type=&quot;module&quot; src=&quot;...&quot;&gt;</code> ä¸ä¼šé˜»å¡ <code>HTML</code> çš„å¤„ç†ï¼Œå®ƒä»¬ä¼šä¸å…¶ä»–èµ„æºå¹¶è¡ŒåŠ è½½ã€‚ æ¨¡å—è„šæœ¬ä¼šç­‰åˆ° <code>HTML</code> æ–‡æ¡£å®Œå…¨å‡†å¤‡å°±ç»ªï¼ˆå³ä½¿å®ƒä»¬å¾ˆå°å¹¶ä¸”æ¯” <code>HTML</code> åŠ è½½é€Ÿåº¦æ›´å¿«ï¼‰ï¼Œç„¶åæ‰ä¼šè¿è¡Œã€‚ åœ¨æ–‡æ¡£ä¸­æ’åœ¨å‰é¢çš„è„šæœ¬å…ˆæ‰§è¡Œã€‚</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> <span class="token comment">// å› ä¸ºæ¨¡å—æ˜¯è¢«å»¶è¿Ÿçš„ï¼ˆdeferredï¼Œæ‰€ä»¥æ¨¡å—è„šæœ¬ä¼šåœ¨æ•´ä¸ªé¡µé¢åŠ è½½å®Œæˆåæ‰è¿è¡Œ</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// objectï¼šè„šæœ¬å¯ä»¥â€œçœ‹è§â€ä¸‹é¢çš„ button</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--ç›¸è¾ƒäºä¸‹é¢è¿™ä¸ªå¸¸è§„è„šæœ¬ï¼š å¸¸è§„è„šæœ¬ä¼šç«‹å³è¿è¡Œï¼Œå¸¸è§„è„šæœ¬çš„è¿è¡Œæ˜¯åœ¨åœ¨å¤„ç†é¡µé¢çš„å…¶ä½™éƒ¨åˆ†ä¹‹å‰è¿›è¡Œçš„--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// button ä¸º undefinedï¼Œè„šæœ¬çœ‹ä¸åˆ°ä¸‹é¢çš„å…ƒç´ </span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="the-import-expression" tabindex="-1"><a class="header-anchor" href="#the-import-expression" aria-hidden="true">#</a> The <code>import()</code> expression</h2><p>Although <code>import()</code> looks like a function call, itâ€™s a <strong>special syntax</strong> that just happens to use parentheses (similar to <code>super()</code>). So we canâ€™t copy import to a variable or use <code>call/apply</code> with it. Itâ€™s <strong>not a function</strong>.</p><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference" aria-hidden="true">#</a> Reference</h2>`,16),d={href:"https://zhuanlan.zhihu.com/p/33843378",target:"_blank",rel:"noopener noreferrer"};function r(k,m){const s=t("ExternalLinkIcon");return e(),p("div",null,[u,n("p",null,[n("a",d,[o("æ·±å…¥ç†è§£ ES6 æ¨¡å—æœºåˆ¶"),c(s)])])])}const g=a(i,[["render",r],["__file","/home/runner/work/vuepress_blog/vuepress_blog/docs/.vuepress/.temp/pages/js_basic/js_module.html.vue"]]);export{g as default};
